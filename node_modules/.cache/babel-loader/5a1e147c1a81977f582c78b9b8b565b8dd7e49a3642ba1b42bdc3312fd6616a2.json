{"ast":null,"code":"// react\nimport React from\"react\";import{useState,useEffect}from\"react\";// react-redux\nimport{useDispatch,useSelector}from\"react-redux\";// react-router-dom\nimport{useNavigate,useParams}from\"react-router-dom\";// react-helmet\nimport{Helmet}from\"react-helmet\";// creator functions\nimport{fetchSingleBlog,fetchSingleBlogDelete}from\"../../redux/reducers/BlogsReducer/actions\";// styles and icons\nimport\"../../index.css\";import Styles from\"./styles.module.css\";import{CiUser,CiStickyNote,CiSquareChevRight}from\"react-icons/ci\";// custom hook (used for previous solution):\n// import useFetch from \"../../hooks/useFetch\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Single(){// sol-1: using useFetch:\n// const {\n//   data: blog,\n//   loading,\n//   error,\n// } = useFetch(`http://localhost:7000/Blogs/${id}`);\nvar _useParams=useParams(),id=_useParams.id;var nav=useNavigate();var _useSelector=useSelector(function(state){return state.blogsReducer;}),activeBlog=_useSelector.activeBlog;// const loading = useSelector((state) => state.blogsReducer);\nvar dispatch=useDispatch();// blog fetching\nuseEffect(function(){dispatch(fetchSingleBlog(id));return function(){// Note: in general useEffect does not has a return word, but this return used to delete any effects after the comp not have the desired time to mount (clean-up function)\ndispatch({type:\"FETCH_DATA_SINGLE_DELETE\",payload:{}});// console.log(\"I am out of a single blog!\");\n};},[]);function handleDelete(){dispatch(fetchSingleBlogDelete(id));handleBackHome();}function handleBackHome(){nav(\"/\");}// sol-1: using useFetch\n// if (loading) return \"Loading .....\";\n// if (error) return \"error .....\";\nreturn/*#__PURE__*/_jsxs(\"div\",{className:Styles.page,children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"meta\",{charSet:\"utf-8\"}),/*#__PURE__*/_jsx(\"title\",{children:\"Blog - \".concat(activeBlog===null||activeBlog===void 0?void 0:activeBlog.title)})]}),/*#__PURE__*/_jsxs(\"div\",{className:Styles.card,children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(CiSquareChevRight,{className:Styles.icon}),activeBlog===null||activeBlog===void 0?void 0:activeBlog.title]}),/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(CiUser,{className:Styles.icon}),activeBlog===null||activeBlog===void 0?void 0:activeBlog.author]})]}),/*#__PURE__*/_jsxs(\"div\",{className:Styles.para,children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(CiStickyNote,{className:Styles.iconPara}),activeBlog===null||activeBlog===void 0?void 0:activeBlog.body]}),/*#__PURE__*/_jsxs(\"div\",{className:Styles.btns,children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,children:\"Delete Blog\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBackHome,className:Styles.backBtn,children:\"Back to blogs\"})]})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","useNavigate","useParams","Helmet","fetchSingleBlog","fetchSingleBlogDelete","Styles","CiUser","CiStickyNote","CiSquareChevRight","jsx","_jsx","jsxs","_jsxs","Single","_useParams","id","nav","_useSelector","state","blogsReducer","activeBlog","dispatch","type","payload","handleDelete","handleBackHome","className","page","children","charSet","concat","title","card","icon","author","para","iconPara","body","btns","onClick","backBtn"],"sources":["C:/Users/User/Desktop/Estarta Training Program - ReactJs/Projects/estarta-blogger/src/pages/SingleBlog/index.js"],"sourcesContent":["// react\r\nimport React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\n// react-redux\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n// react-router-dom\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n// react-helmet\r\nimport { Helmet } from \"react-helmet\";\r\n// creator functions\r\nimport {\r\n  fetchSingleBlog,\r\n  fetchSingleBlogDelete,\r\n} from \"../../redux/reducers/BlogsReducer/actions\";\r\n\r\n// styles and icons\r\nimport \"../../index.css\";\r\nimport Styles from \"./styles.module.css\";\r\nimport { CiUser, CiStickyNote, CiSquareChevRight } from \"react-icons/ci\";\r\n\r\n// custom hook (used for previous solution):\r\n// import useFetch from \"../../hooks/useFetch\";\r\n\r\nexport default function Single() {\r\n  // sol-1: using useFetch:\r\n  // const {\r\n  //   data: blog,\r\n  //   loading,\r\n  //   error,\r\n  // } = useFetch(`http://localhost:7000/Blogs/${id}`);\r\n\r\n  const { id } = useParams();\r\n  const nav = useNavigate();\r\n  const { activeBlog } = useSelector((state) => state.blogsReducer);\r\n  // const loading = useSelector((state) => state.blogsReducer);\r\n  const dispatch = useDispatch();\r\n\r\n  // blog fetching\r\n  useEffect(() => {\r\n    dispatch(fetchSingleBlog(id));\r\n\r\n    return () => {\r\n      // Note: in general useEffect does not has a return word, but this return used to delete any effects after the comp not have the desired time to mount (clean-up function)\r\n\r\n      dispatch({ type: \"FETCH_DATA_SINGLE_DELETE\", payload: {} });\r\n      // console.log(\"I am out of a single blog!\");\r\n    };\r\n  }, []);\r\n\r\n  function handleDelete() {\r\n    dispatch(fetchSingleBlogDelete(id));\r\n\r\n    handleBackHome();\r\n  }\r\n\r\n  function handleBackHome() {\r\n    nav(\"/\");\r\n  }\r\n\r\n  // sol-1: using useFetch\r\n  // if (loading) return \"Loading .....\";\r\n  // if (error) return \"error .....\";\r\n\r\n  return (\r\n    <div className={Styles.page}>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        {/* <title>{`Blog - ${blogs?.title}`}</title> */}\r\n        <title>{`Blog - ${activeBlog?.title}`}</title>\r\n      </Helmet>\r\n\r\n      <div className={Styles.card}>\r\n        <header>\r\n          <h2>\r\n            <CiSquareChevRight className={Styles.icon} />\r\n            {/* {blogs?.title} */}\r\n            {activeBlog?.title}\r\n          </h2>\r\n          <h3>\r\n            <CiUser className={Styles.icon} />\r\n            {/* {blogs?.author} */}\r\n            {activeBlog?.author}\r\n          </h3>\r\n        </header>\r\n\r\n        <div className={Styles.para}>\r\n          <p>\r\n            <CiStickyNote className={Styles.iconPara} />\r\n            {/* {blogs?.body} */}\r\n            {activeBlog?.body}\r\n          </p>\r\n\r\n          <div className={Styles.btns}>\r\n            <button onClick={handleDelete}>Delete Blog</button>\r\n\r\n            <button onClick={handleBackHome} className={Styles.backBtn}>\r\n              Back to blogs\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}