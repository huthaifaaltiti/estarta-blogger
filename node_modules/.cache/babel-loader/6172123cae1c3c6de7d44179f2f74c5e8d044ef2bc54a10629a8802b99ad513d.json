{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Desktop/Estarta Training Program - ReactJs/Projects/estarta-blogger/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/User/Desktop/Estarta Training Program - ReactJs/Projects/estarta-blogger/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/User/Desktop/Estarta Training Program - ReactJs/Projects/estarta-blogger/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/User/Desktop/Estarta Training Program - ReactJs/Projects/estarta-blogger/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// styles\nimport\"../../index.css\";import Styles from\"./styles.module.css\";// react\nimport React,{useRef}from\"react\";// react-router-dom\nimport{useNavigate}from\"react-router-dom\";// react-helmet\nimport{Helmet}from\"react-helmet\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewBlog=function NewBlog(){var navigator=useNavigate();var myRef=useRef({title:\"\",body:\"\",author:\"\"});function handleChangeForm(e){// Note: here is destructuring for myRef.current obj, and get back with these values\nmyRef.current=_objectSpread(_objectSpread({},myRef.current),{},_defineProperty({},e.target.name,e.target.value));}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();// Note: form behavior when click \"Submit\" will make page-reload, so use the line before.\n_context.next=3;return fetch(\"http://localhost:7000/blogs\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(myRef.current)});case 3:navigator(\"/\");case 4:case\"end\":return _context.stop();}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:Styles.page,children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"meta\",{charSet:\"utf-8\"}),/*#__PURE__*/_jsx(\"title\",{children:\"Create New Blog\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:Styles.newBlog,children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Add a new blog\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Blog title\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",placeholder:\"Blog Title\",onChange:handleChangeForm})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Blog Author\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"author\",placeholder:\"Blogger Name\",onChange:handleChangeForm})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Blog Body\",/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",name:\"body\",placeholder:\"Write a blog\",onChange:handleChangeForm})]}),/*#__PURE__*/_jsx(\"div\",{className:Styles.formSubmit,children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Blog\"})})]})]})]});};export default NewBlog;","map":{"version":3,"names":["Styles","React","useRef","useNavigate","Helmet","jsx","_jsx","jsxs","_jsxs","NewBlog","navigator","myRef","title","body","author","handleChangeForm","e","current","_objectSpread","_defineProperty","target","name","value","handleSubmit","_x","_handleSubmit","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","JSON","stringify","stop","className","page","children","charSet","newBlog","onSubmit","type","placeholder","onChange","formSubmit"],"sources":["C:/Users/User/Desktop/Estarta Training Program - ReactJs/Projects/estarta-blogger/src/pages/NewBlog/index.js"],"sourcesContent":["// styles\r\nimport \"../../index.css\";\r\nimport Styles from \"./styles.module.css\";\r\n\r\n// react\r\nimport React, { useRef } from \"react\";\r\n\r\n// react-router-dom\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n// react-helmet\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nconst NewBlog = () => {\r\n  const navigator = useNavigate();\r\n\r\n  const myRef = useRef({\r\n    title: \"\",\r\n    body: \"\",\r\n    author: \"\",\r\n  });\r\n\r\n  function handleChangeForm(e) {\r\n    // Note: here is destructuring for myRef.current obj, and get back with these values\r\n\r\n    myRef.current = {\r\n      ...myRef.current,\r\n      [e.target.name]: e.target.value,\r\n    };\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    // Note: form behavior when click \"Submit\" will make page-reload, so use the line before.\r\n\r\n    await fetch(\"http://localhost:7000/blogs\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(myRef.current),\r\n    });\r\n\r\n    navigator(\"/\");\r\n  }\r\n\r\n  return (\r\n    <div className={Styles.page}>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>Create New Blog</title>\r\n      </Helmet>\r\n\r\n      <div className={Styles.newBlog}>\r\n        <header>\r\n          <h2>Add a new blog</h2>\r\n        </header>\r\n        <form onSubmit={handleSubmit}>\r\n          {/* Note: handleSubmit is equal to (e) => handleSubmit(e) */}\r\n\r\n          <label>\r\n            Blog title\r\n            <input\r\n              type=\"text\"\r\n              name=\"title\"\r\n              placeholder=\"Blog Title\"\r\n              onChange={handleChangeForm}\r\n            />\r\n          </label>\r\n\r\n          <label>\r\n            Blog Author\r\n            <input\r\n              type=\"text\"\r\n              name=\"author\"\r\n              placeholder=\"Blogger Name\"\r\n              onChange={handleChangeForm}\r\n            />\r\n          </label>\r\n\r\n          <label>\r\n            Blog Body\r\n            <textarea\r\n              type=\"text\"\r\n              name=\"body\"\r\n              placeholder=\"Write a blog\"\r\n              onChange={handleChangeForm}\r\n            />\r\n          </label>\r\n\r\n          <div className={Styles.formSubmit}>\r\n            <button type=\"submit\">Add Blog</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewBlog;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}